@page "/questions/{SurveyId:int}"
@inject HttpClient Http

@if (survey != null) {
    @for(var i=0; i<survey.Questions.Count; i++) {
        var index = i+1;
        var q = survey.Questions[i];
        <div class="index">@index .</div>
        <div class="statement">@q.Statement</div>
        <div class="d-flex justify-content-around form-check mt-4 mb-5">
            <div class="option">
                <input class="form-check-input" type="radio" name="@i" id="exampleRadios1" value="option1">
                <label class="form-check-label" for="exampleRadios1">
                    @q.Option1
                </label>
            </div>
            <div class="option">
                <input class="form-check-input" type="radio" name="@i" id="exampleRadios2" value="option2">
                <label class="form-check-label" for="exampleRadios2">
                    @q.Option2
                </label>
            </div>
        </div>
    }
}

@code {
    [Parameter]
    public int SurveyId { get; set; }
    private Models.Survey survey;

    protected async override Task OnParametersSetAsync()
    {
        survey = await Http.GetFromJsonAsync<Models.Survey>("https://localhost:5001/api/Surveys/" + SurveyId);
    }
}
